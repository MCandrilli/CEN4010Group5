{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\adrie\\\\Desktop\\\\CEN\\\\CEN4010Group5\\\\frontend\\\\src\\\\components\\\\wishlist.js\";\nimport React, { Component } from 'react';\nimport { DataTable, TableHeader, Grid, Cell, Textfield } from 'react-mdl';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from 'axios';\nimport styled from \"styled-components\";\nimport { Dropdown, DropdownButton } from 'react-bootstrap';\nimport { Button } from 'reactstrap';\nimport { addToCart } from './shoppingcart';\nconst StyledWishListTitle = styled.h3`\n    font-variant: all-petite-caps;\n    text-decoration: overline;\n    color: dimgrey;\n    font-size: 40px;\n    font-weight: lighter;\n    padding-top: 10px;\n    padding-left: 300px`;\nconst StyledCreateWishlist = styled.h3`\n    font-variant: all-petite-caps;\n    text-decoration: overline;\n    color: dimgrey;\n    font-size: 24px;\n    font-weight: lighter;\n    margin-bottom: 0px;\n    padding-bottom: 0px;\n    margin-left: 25%; \n    padding-top: 25px`;\n\nclass Wishlist extends Component {\n  constructor() {\n    super();\n    this.state = {\n      'items': [],\n      'listItems': [],\n      value: '',\n      errorMessage: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.deleteSubmit = this.deleteSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    this.getItems();\n    this.getListItems();\n  }\n\n  getItems() {\n    fetch('/wishlists').then(results => results.json()).then(results => this.setState({\n      'items': results.data\n    }));\n  }\n\n  getListItems() {\n    fetch('/wishlistItems').then(results => results.json()).then(results => this.setState({\n      'listItems': results.data\n    }));\n  }\n\n  handleSubmit() {\n    let submissiondata = {\n      \"title\": this.state.value\n    };\n\n    if (this.state.items.length < 3) {\n      fetch('/wishlists', {\n        method: 'POST',\n        body: JSON.stringify(submissiondata),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(res => res.json()).then(data => console.log(data));\n      this.getItems();\n    } else {\n      this.setState({\n        errorMessage: \"Too many lists!\"\n      });\n    }\n  }\n\n  handleChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n  }\n\n  deleteSubmit(_id) {\n    axios.delete(`http://localhost:5000/wishlists/delete/` + _id).then(res => {\n      console.log(res);\n      console.log(res.data);\n    });\n    this.setState({\n      items: this.state.items.filter(item => item._id !== _id)\n    });\n  }\n\n  deleteItem(_id) {\n    axios.delete(`http://localhost:5000/wishlistItems/delete/` + _id).then(res => {\n      console.log(res);\n      console.log(res.data);\n    });\n    this.setState({\n      items: this.state.items.filter(item => item._id !== _id)\n    });\n  }\n\n  moveItem(id, title, listID, imageLink, price) {\n    axios.delete(`http://localhost:5000/wishlistItems/delete/` + id).then(res => {\n      console.log(res);\n      console.log(res.data);\n    });\n    let submissiondata = {\n      \"title\": title,\n      \"belongsTo\": listID,\n      \"imageLink\": imageLink,\n      \"price\": price\n    };\n    fetch('/wishlistItems', {\n      method: 'POST',\n      body: JSON.stringify(submissiondata),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(data => console.log(data));\n    window.location.reload();\n  }\n\n  moveListDropdown(listTitle, listID, listItem, itemID, itemImageLink, itemPrice, element) {\n    if (this.state.items.length === 1) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }\n      }, \"   \", /*#__PURE__*/React.createElement(DropdownButton, {\n        id: \"dropdown-basic-button\",\n        title: \"Move\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Dropdown.Item, {\n        onClick: () => element != null && addToCart(element),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 33\n        }\n      }, \"Add to Cart.\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 33\n        }\n      }, \"No other lists available.\")));\n    } else return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(DropdownButton, {\n      id: \"dropdown-basic-button\",\n      title: \"Move\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown.Item, {\n      onClick: () => element != null && addToCart(element),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 13\n      }\n    }, \"Add to Cart.\"), this.state.items.map(function (item, index) {\n      if (item.title !== listTitle) return /*#__PURE__*/React.createElement(Dropdown.Item, {\n        onClick: this.moveItem.bind(this, itemID, listItem, item._id, itemImageLink, itemPrice),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 32\n        }\n      }, item.title);\n    }, this)));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '95%',\n        marginLeft: 'auto',\n        marginRight: 'auto',\n        marginTop: '30px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(StyledWishListTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }\n    }, \"Wishlist\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '25%',\n        margin: 'auto',\n        boxShadow: \"0px 0px 3px 3px #ccc\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(StyledCreateWishlist, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }\n    }, \"Create a Wishlist\"), /*#__PURE__*/React.createElement(\"form\", {\n      style: {\n        margin: '10px'\n      },\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        marginLeft: '15%',\n        marginTop: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Textfield, {\n      value: this.state.value,\n      onChange: this.handleChange,\n      label: \"Type Name for Wishlist...\",\n      style: {\n        width: '200px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      color: \"primary\",\n      style: {\n        marginLeft: '10px'\n      },\n      type: \"submit\",\n      value: \"Create\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 25\n      }\n    }, \"Create\"))), /*#__PURE__*/React.createElement(Grid, {\n      className: \"demo-grid-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 17\n      }\n    }, this.state.items.map(function (item, index) {\n      let wishListItems = [];\n      this.state.listItems.forEach(element => {\n        if (element.belongsTo === item._id) wishListItems.push({\n          booktitle: element.title,\n          delete: /*#__PURE__*/React.createElement(Button, {\n            outline: true,\n            color: \"danger\",\n            onClick: () => {\n              axios.delete(`http://localhost:5000/wishlistItems/delete/` + element._id).then(res => {\n                console.log(res);\n                console.log(res.data);\n              });\n              window.location.reload();\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 83\n            }\n          }, \"X\"),\n          moveTo: this.moveListDropdown(item.title, item._id, element.title, element._id, element.imageLink, element.price, element)\n        });\n      });\n\n      if (wishListItems.length === 0) {\n        wishListItems.push({\n          booktitle: \"Empty List\"\n        });\n      }\n\n      ;\n      return /*#__PURE__*/React.createElement(Cell, {\n        col: 4,\n        key: item._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 28\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 25\n        }\n      }, item.title), /*#__PURE__*/React.createElement(DataTable, {\n        style: {\n          width: '30%'\n        },\n        shadow: 0,\n        rows: wishListItems,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(TableHeader, {\n        name: \"booktitle\",\n        tooltip: \"The Book' title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 33\n        }\n      }, \"Book Title\"), /*#__PURE__*/React.createElement(TableHeader, {\n        name: \"delete\",\n        tooltip: \"Delete\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 34\n        }\n      }, \" \"), /*#__PURE__*/React.createElement(TableHeader, {\n        name: \"moveTo\",\n        tooltip: \"1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 34\n        }\n      }, \" \"), /*#__PURE__*/React.createElement(TableHeader, {\n        name: \"toCart\",\n        tooltip: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 34\n        }\n      })), /*#__PURE__*/React.createElement(Button, {\n        style: {\n          marginLeft: '30px',\n          marginTop: '10px'\n        },\n        color: \"danger\",\n        key: item._id,\n        onClick: () => {\n          this.deleteSubmit(item._id);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 28\n        }\n      }, \"Delete List\"));\n    }, this)));\n  }\n\n}\n\nexport default Wishlist;","map":{"version":3,"sources":["C:/Users/adrie/Desktop/CEN/CEN4010Group5/frontend/src/components/wishlist.js"],"names":["React","Component","DataTable","TableHeader","Grid","Cell","Textfield","axios","styled","Dropdown","DropdownButton","Button","addToCart","StyledWishListTitle","h3","StyledCreateWishlist","Wishlist","constructor","state","value","errorMessage","handleChange","bind","handleSubmit","deleteSubmit","componentDidMount","getItems","getListItems","fetch","then","results","json","setState","data","submissiondata","items","length","method","body","JSON","stringify","headers","res","console","log","event","target","_id","delete","filter","item","deleteItem","moveItem","id","title","listID","imageLink","price","window","location","reload","moveListDropdown","listTitle","listItem","itemID","itemImageLink","itemPrice","element","map","index","render","width","marginLeft","marginRight","marginTop","margin","boxShadow","wishListItems","listItems","forEach","belongsTo","push","booktitle","moveTo","display","justifyContent"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { DataTable, TableHeader, Grid, Cell, Textfield} from 'react-mdl';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport axios from 'axios';\r\nimport styled from \"styled-components\";\r\nimport {Dropdown, DropdownButton } from 'react-bootstrap';\r\nimport {Button} from 'reactstrap'\r\nimport {addToCart} from './shoppingcart'\r\n\r\n\r\nconst StyledWishListTitle = styled.h3`\r\n    font-variant: all-petite-caps;\r\n    text-decoration: overline;\r\n    color: dimgrey;\r\n    font-size: 40px;\r\n    font-weight: lighter;\r\n    padding-top: 10px;\r\n    padding-left: 300px`;\r\n\r\nconst StyledCreateWishlist = styled.h3`\r\n    font-variant: all-petite-caps;\r\n    text-decoration: overline;\r\n    color: dimgrey;\r\n    font-size: 24px;\r\n    font-weight: lighter;\r\n    margin-bottom: 0px;\r\n    padding-bottom: 0px;\r\n    margin-left: 25%; \r\n    padding-top: 25px`;\r\n\r\nclass Wishlist extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        \r\n        this.state = {\r\n            'items': [],\r\n            'listItems': [],\r\n            value: '',\r\n            errorMessage: ''\r\n        }\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.deleteSubmit = this.deleteSubmit.bind(this);\r\n\r\n    }\r\n  \r\n    componentDidMount() {\r\n      this.getItems();\r\n      this.getListItems();\r\n    }\r\n  \r\n    getItems() {\r\n        \r\n        fetch('/wishlists')\r\n        .then(results => results.json())\r\n        .then(results => this.setState({'items': results.data}));\r\n  \r\n    }\r\n    \r\n    getListItems(){\r\n        fetch('/wishlistItems')\r\n        .then(results => results.json())\r\n        .then(results => this.setState({'listItems': results.data}));\r\n       \r\n    }\r\n    \r\n    handleSubmit() {\r\n        let submissiondata = {\r\n            \"title\": this.state.value\r\n        }\r\n    \r\n        if (this.state.items.length < 3){\r\n            fetch('/wishlists', {\r\n                method: 'POST',\r\n                body: JSON.stringify(submissiondata),\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n            })\r\n            .then(res => res.json())\r\n            .then(data => console.log(data));  \r\n            this.getItems();  \r\n        } else {\r\n            this.setState({errorMessage: \"Too many lists!\"});\r\n        }\r\n        \r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({value: event.target.value});\r\n      }\r\n    \r\n    \r\n\r\n    deleteSubmit(_id) {\r\n        \r\n        axios.delete(`http://localhost:5000/wishlists/delete/` + _id)\r\n      .then(res => {\r\n        console.log(res);\r\n        console.log(res.data);\r\n      });\r\n        \r\n       this.setState({items: this.state.items.filter(item => item._id !== _id)});\r\n    }\r\n    \r\n    \r\n    deleteItem(_id) {\r\n        \r\n        axios.delete(`http://localhost:5000/wishlistItems/delete/` + _id)\r\n      .then(res => {\r\n        console.log(res);\r\n        console.log(res.data);\r\n      });\r\n        \r\n       this.setState({items: this.state.items.filter(item => item._id !== _id)});\r\n    }\r\n\r\n    moveItem(id, title, listID, imageLink, price){\r\n        axios.delete(`http://localhost:5000/wishlistItems/delete/` + id)\r\n        .then(res => {\r\n          console.log(res);\r\n          console.log(res.data);\r\n        });\r\n\r\n        let submissiondata = {\r\n            \"title\": title,\r\n            \"belongsTo\": listID,\r\n            \"imageLink\": imageLink,\r\n            \"price\" : price\r\n        }\r\n\r\n        fetch('/wishlistItems', {\r\n            method: 'POST',\r\n            body: JSON.stringify(submissiondata),\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => console.log(data)); \r\n\r\n        window.location.reload();\r\n\r\n    }\r\n\r\n\r\n    \r\n    moveListDropdown(listTitle, listID, listItem, itemID, itemImageLink, itemPrice, element) {\r\n\r\n        if (this.state.items.length === 1) {\r\n            return  <div>   <DropdownButton id=\"dropdown-basic-button\" title=\"Move\">\r\n                                <Dropdown.Item onClick = {() => (element != null) && addToCart(element)}>Add to Cart.</Dropdown.Item>\r\n                                <Dropdown.Item>No other lists available.</Dropdown.Item>\r\n                            </DropdownButton>\r\n                    </div>\r\n                   \r\n        }\r\n        else return (\r\n            <div>\r\n            <DropdownButton id=\"dropdown-basic-button\" title=\"Move\">\r\n            <Dropdown.Item onClick = {() => (element != null) && addToCart(element)}>Add to Cart.</Dropdown.Item>\r\n                 {this.state.items.map(function(item, index){\r\n                    if (item.title !== listTitle)\r\n                        return <Dropdown.Item onClick={this.moveItem.bind(this, itemID, listItem, item._id, itemImageLink, itemPrice)}>{item.title}</Dropdown.Item>\r\n                        \r\n                 }, this)}\r\n                \r\n            </DropdownButton>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        \r\n        \r\n         return(\r\n             <div style={{width: '95%', marginLeft: 'auto', marginRight: 'auto', marginTop: '30px'}}>\r\n                 \r\n                \r\n                \r\n\r\n\r\n                <StyledWishListTitle>Wishlist</StyledWishListTitle>\r\n                <div style={{width: '25%', margin: 'auto', boxShadow: \"0px 0px 3px 3px #ccc\"}}>\r\n                <StyledCreateWishlist>Create a Wishlist</StyledCreateWishlist>\r\n                    <form style={{margin: '10px'}}onSubmit= {this.handleSubmit}>\r\n                        <label style={{marginLeft:'15%', marginTop: '10px'}}>  \r\n                            <Textfield value={this.state.value}\r\n                                onChange={this.handleChange}\r\n                                label=\"Type Name for Wishlist...\"\r\n                                style={{width: '200px'}}\r\n                            />  \r\n                        </label>\r\n                        <Button color=\"primary\" style={{marginLeft: '10px'}} type=\"submit\" value=\"Create\">Create</Button>\r\n                    </form>\r\n                </div>\r\n                \r\n                    \r\n                <Grid className=\"demo-grid-1\">\r\n                    {this.state.items.map(function(item, index) {\r\n                    \r\n                    \r\n                    let wishListItems = []; \r\n                    this.state.listItems.forEach(element => {\r\n                        if (element.belongsTo === item._id)\r\n                            wishListItems.push({booktitle: element.title, delete: <Button outline color=\"danger\" onClick={()=>{\r\n                                                axios.delete(`http://localhost:5000/wishlistItems/delete/` + element._id)\r\n                                  .then(res => {\r\n                                    console.log(res);\r\n                                    console.log(res.data);\r\n                                  });\r\n                            \r\n                                    window.location.reload();\r\n                            }}>X</Button>, \r\n                            moveTo: this.moveListDropdown(item.title, item._id, element.title, element._id, element.imageLink, element.price, element)});\r\n                       \r\n                    });\r\n                    \r\n                    if (wishListItems.length === 0){\r\n                        wishListItems.push({booktitle: \"Empty List\"});           \r\n                    };\r\n             \r\n                  \r\n             \r\n             \r\n                        \r\n                    return <Cell col={4} key={item._id} >\r\n                        <h3 style={{display: 'flex', justifyContent: 'center'}}>{item.title}</h3>\r\n                    \r\n                            <DataTable style={{width: '30%'}}\r\n                                shadow={0}\r\n                                \r\n                                rows={\r\n                                    wishListItems\r\n                                }\r\n                            >\r\n                                    \r\n                                    \r\n                                    \r\n                                <TableHeader name=\"booktitle\" tooltip=\"The Book' title\">Book Title</TableHeader>\r\n                                 <TableHeader name=\"delete\" tooltip=\"Delete\"> </TableHeader>\r\n                                 <TableHeader name=\"moveTo\" tooltip=\"1\"> </TableHeader>\r\n                                 <TableHeader name=\"toCart\" tooltip=\"\"></TableHeader>\r\n                                 \r\n        \r\n        \r\n                                \r\n                            </DataTable>\r\n                            \r\n                           <Button style={{marginLeft: '30px', marginTop: '10px'}} color=\"danger\" key={item._id} onClick={()=> {this.deleteSubmit(item._id)}}>Delete List</Button>\r\n                        </Cell>\r\n                    }, this)}\r\n                </Grid>\r\n             </div>\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nexport default Wishlist;"]},"metadata":{},"sourceType":"module"}